language: ruby
rvm:
- 2.6.3
before_script:
- chmod +x ./script/cibuild
script: "./script/cibuild"
env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
  - secure: PNOqYKZQgquzA7h97bPC16szrzeMWlmHkvaT+JvbOzYqB2BiMsKoG4/isImxnOCKG3mh+LbB1uXpMkZKGqImAOHjzaoqWOVlZQpY+MmmqBMYFfl/ACdU+w4lOuTEA5tGV+SI9THnO/M+9cGH/fqZ6Zo4s+JxzRnTVeTQENYFYyaGWm7Tf0MjXN5fwPTXoCKAzn9kibonZLgsD3USawMs9uTDVRGKvoSsYhXkQIJtIfTZGNIZuVFxC7YslnMGgYSq7/3fkNT+b+RyRg7185WrGqdrrWfpvYNHNHOrTK9PviJyGpJXGA7gOvrnXGJLGbjcMNmUXBz5wCxQA/U1aDN93MnJiZ4RqHByI2Zl5LZ2Je/95DBnzc4nuviAmWdWlDREZJi8HLdpWsZCNK/rD8KvhYPSPgFRBa8kMN9M5J3XIY6MbmrVUSGlnVR57b8bhngirauxx1I2R6fiLgQu7R+lGmQ9Fq7gwMlvBPmTAFVdoK7LBxqUtcVhkI6ZpaiEYn8OLDdGbldogML8r90bXMWWbkG2cN09IQCzhFtWwPlMPQWI6sTnferyb8FVrRyJ7X4zV85n9DPazVgeKiySKEUA5+lWhI+TYmyLt27LyF7xbKgr6dyxtYZ5fNu1EBKYmvDPu03mABwZhmn+fYLH6XUWdm36O/LN1PbGdBB/2DjwANA=
  - secure: RDVrJT60LQk4vgOb5A1CPrx+uoi7dk+m7sufQUzcmftP3NrBBbYgTEqmVo5UaCHWJ6Ev/IfEd1xx6l92zRum/IHQod0k8jve3fDqAxNXG7F3W/TyZ1FM8VCYPPlnZR4M6xJA2e9NS4CvedarHb0FnfawbZrY9DMZ/5FL7GdLGOt48T/WcLWIQT4Lgb70Ex5WmEdW/C8hkouHGPLVkZsNgz+Ff6orTok4rAGX+gKbzCrsqu6/UsNBfgB73nHrcSCBZJeRSeenBt4Ja9MdTY1RKW0Rub2BQkw4z/TX7T7iWlJhcfX0IWeU1QAmKXjtFQbzWGadEDrrMIw32Y+CkVotQ3mnB6mAdyj/Hx9mIO5N6G5dkx3POcZfQuAwKe+SsUn8UYv9a7YkJzF078nlg140eZ9BfIcHH5lY94t6cWnXDxgd1B2Kuq5j/Khnwtv1GFVdkJX81VAanDciQ+W34AUy3EgPayHz/0yl/d2g0W3p34eiqCq6zy960GuEPfisQqJbqQYwRhJY8d5h4C5LvEyjQzPnG7YWQg7dpIjsgkF2pgnB5JdxN/Tro0wmd2lNR8ne7RzlQUNvspZNyDe67ElIvDiSwidVwkMQgYGiNx1+6Gmcdw8WN3ua42HkHOxuk1fHhNOOFmFZy3DalK5zpCRYdgpqEhdF9I2vVIJ8xniGtyY=
  - secure: atWxiUP4Nb0BbRLdvnKNHGG18qs/AwHLgA9ntye4VZxdHlN00Ns2dmW9nEzm8YLPXoWP0h/fNYhFTSa+4qSY2/1jYeX/sUD8BTOqznxnHhYXjwjM2+wtBtGAEMfHiBhcANIjyHziE3FvAKMuzG0JACO0qRs4ZpxyUhyOr0hq6TXBBY+v3r+zGcbuA6p25bAgrOiC8IemGbMryHVTwrcI0rt5tzlMB7XC4AJ/c36ZXfG0DT/jZzwesl7FMPfesJzAajbDJmnMfem4QFewFjIF4M4Mg/GAbxkELyzUV5UA3kprez8ztjx70wefWJCPOTynBNVCfQVKxbsmyTnc0FYPXO7omHg4qitzpp7QxU5WjVnX7HKYPzKO31kw/cmmdgntETrQjlIwuLPsT4fsuY2bwQlePlAtAkz4Pw/3gg13OXAD2zGSw/EN6dpH4sGu5kYjLbp5DeuxI4w48fCZpz7MwOuC+R/BPQkDV2EZcPFMKglYaJCpDhHK63G1pZWVx4dpuzPMXdhelOWPzE67IBjFNB2C0EPqP35EkUW5l9FNFbzFi8rL7tvIRguOpeTNA4fdsfYJIl3dUCoVNVnIGA6HKBXpGih+rX9HXYTbacodTsqlDFRNL7JAC2Y4txm3eVTj5I3aYQFK9l4Ju3Hn+WLL2e53fffHbMTAWuh+A8WCoRE=
  - secure: obg0b8p0leNCWnqtYn8BnBT2bYFAcBnjTOL9eXAF9m2F2cghJBSr9/h3RCzonaQni6qHM8vUAUaiyGGGbnYbhi6HT+3A3JaJekFPaAVy3i4gV0QRWYao8ZkrSllpmt2nSp/5G+Uycy11vUqL/PuyfU21Kdkn8IWS2alpDWVSoUQwo/AIJrSDb2pcN4kWO8eQ6WCVgfVJA31lDz5mkcl2B+tQsLiAMPQ8h/wc5spFV4H6wR87XNq+m/BGD4A/91msJoRxb0cPLuUznGkDyThqNYKsvFRwUe37tk3D7QyM6nVwt4Ujq268hfUu5Ke5hOxJMqenG9UCXG+IzMK6KLckLj/AkqDDojhGPsgnZFwC2pWM/xdUp6f/XwIaglU3YgCs6H0Dv2h41mMAa6qNjR0WhHGnWv895/64aEVlsL4UUzk87UQwdvmQEQ/2hMg5nJjARnXng+KtxYQ/tfBAF5Y0MQJoIwwg4l+sQBYbVCIe8bTjwqRy1QCLSbLYGtw5F+CTfiROFRhN9N3sA+KqMIn/VBT8XTAfDnklOjUO1PJWwdhLgdk8PUgPT5S9j50RpPWvT5sbUmLzKIL/G9Vjlv+zPLqQgfgJbvlC3Si1x8poYjd5wVSJuGOpju5Jr6fw+IcxLrJMQlwue2vfLJdlrhu2pikhpOS/zJ4ahSATdEaHIEc=
  - secure: XH3w/6R+ABDLEKUPqvO1el2RexZC/yeOmFCFO4eITONjCGo55xX5Sbdu9R/P5bf4F+f7UrbRdUPSPMLTN2GqFpnkVppK4iH1RJydav02rT/pUNnuGO9mgJtoeSObwTu4YUflCG6mPtgkQkAn/Ao3hqwv465M7C207+/gkLGUZ+AeMG7/lUs13uOzD0p0IlOkHIqGhH5Hf3wapJhHP0sqz79FWMbRyst1HEPbkTiBkeYWmqq03yUj3QIL7IfVzMnig/FX24ttLvctb1v4m5r25lAU8ZyS0nzoQ74bskT+R6tUGlM6/P4OyuSXWNg3I6UL+TWvqeuzFCvzade836Es5VnNOH3yTc5hxDYyShBKyjtPsq7UUd0zofXxq33IEEMVj1qiqGmjVHPRe6NF/VKKnLlEkhAWWfNcsODvqcB9cBHHEE0ZFZzCkwMzYTciPN8FLZdPnlFiiwD6fdj6my9iePlU0Ci8rXklgRQyWiBbZCV4jbrCEuCPwElRA5YlEupDBNdY7oQS/pJbgWwHghyOw+C7uSZw+Qf3viEbtFA7wG51ghd2UOLkD0ZfM/b/kY0Pjvehgc+zulFL4U4/ND/8QmNzrZ3deuwHgj2XSrt8n4qR9h5crxO1httMciuE35uMgXf5QflP06WPXxKkGjQqqGYFrDT+0M+vNnVywPfG94c=
  - secure: AWdOH2zVkrq1x792PyYJApXgnbrGPYuW6+TzVqgjcqXS/wfzIQEhokZl8rVzKacAw/0SCWj5uCHYJm5d8U8rNcET+0b1zHIkaHYFIyKvPX6I/VGgr+eTFLNjWafwobSniSbVHXx8xOykK/31SNT+aEyiTY2/CQZK/U/QwHzJezTZAW1ujCF1yBASbLQVl7D8BT12UnabE2uFEDp9dm95wk2nKFAeM18OvltuFcjupSClsfdC/494G4lW98WUAFDCCU0zt8NJn9Q28E++E0ZYI8TrBTtragi+/VWl+G5K2z7Xqtj5Fz8PwQzwpYgvzBKUG0uYjDSkWTXe4xi65dkTNZdKhLGs93qBCYSUh8bvtRTQ4BQgFTivmMTm38L4HPviJ5CnzNoysQuEwy99HzSP1Vw7nmut2PhbMm56vUarZEtNYUdJ6Dyx+mUb5omkjTgq7mL+/PQSjOnxPwrso7vfqAVNSncGxbrPqQT/BPQXOvojiUlsa7JAJnnwdVJ0pqr78SRTqA2SShQYCJwl1bZKpJIngXsHdzOJkXlEXq0xZ11DAlHYNQQ9AeWfDTT7d+XoxM1oj8rjymKKwpHYqG/Pzv1+Pl4yWjshO7LdNLeSR+HtqQqhTDpjzuiYKmiUr1vS0f7B63EiDmxpRMX+pwJeWy2VeHk6qk4V9g48dPYBjYo=
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
cache: bundler
before_deploy:
- openssl aes-256-cbc -K $encrypted_db2095f63ba3_key -iv $encrypted_db2095f63ba3_iv
  -in deploy_rsa.enc -out /tmp/deploy_rsa -d
- eval "$(ssh-agent -s)"
- chmod 600 /tmp/deploy\_rsa
- ssh-add /tmp/deploy\_rsa
deploy:
  provider: script
  skip_cleanup: true
  script: rsync -avz --quiet --delete-after -e "ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null" _site/* $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_DIRECTORY
  on:
    branch: master